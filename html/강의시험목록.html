<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/강의평가.css">
</head>
<body>
    <header>
        <div class="inner">
            <!-- header -->
            <h1>
                <a href="메인.html">
                    <img src="../img/img_ezenInside2.png" alt="">
                </a>
            </h1>
            <ul class="top-menu">
                <li><a href="" id="loginText">로그인</a></li>
                <li><a href="myinfo.html">내정보</a></li>
                <li><a href="쪽지.html">쪽지</a></li>
            </ul>
            <nav class="nav">
                <ul>
                    <li><a href="notice_board.html" class="stress">공지사항</a></li>
                    <li><a href="free_board.html" class="stress">자유게시판</a></li>
                    <li><a href="시간표.html" class="stress">시간표</a></li>
                    <li><a href="강의평가메인.html" class="stress">강의평가</a></li>
                    <li><a href="학점계산기.html" class="stress">학점계산기</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <div class="inner inner-detail">
            <div class="search detail-search">
                <p>일반화학1</p>
                <a href="강의평가개요.html" class="item">
                    <img src="../img/info.png" alt="">
                    <p>개요</p>
                </a>
                <a href="강의평가목록.html" class="item">
                    <img src="../img/rating.png" alt="">
                    <p>강의평</p>
                </a>
                <a href="" class="item stress">
                    <img src="../img/exam.png" alt="">
                    <p>시험 정보</p>
                </a>
                <a href="강의시험입력.html" class="write" id="examWrite">
                    등록하기
                </a>
            </div>
            <div class="board-list feedback-list exam-list">
                <div class="feedback-header">
                    <a class="average" id="average-link">
                        <img src="../img/off_light.png" alt="" id="average-img">
                        <span id="average-text">
                            열람한 정보
                        </span>
                    </a>
                    <div class="buttons">
                        <div class="btn1" name="" id="">
                            <span class="selected">
                                <span>
                                    전체
                                </span>
                                <img src="../img/arrow_down.png" alt="">
                            </span>
                            <div class="custom-options">
                                <div class="option" data-value="">
                                    중간고사
                                </div>
                                <div class="option" data-value="">
                                    기말고사
                                </div>
                                <div class="option" data-value="">
                                    1차
                                </div>
                                <div class="option" data-value="">
                                    2차
                                </div>
                                <div class="option" data-value="">
                                    3차
                                </div>
                                <div class="option" data-value="">
                                    4차
                                </div>
                                <div class="option" data-value="">
                                    기타
                                </div>
                            </div>
                        </div>
                        <div class="btn1" name="" id="">
                            <span class="selected">
                                <span>
                                    등록순
                                </span>
                                <img src="../img/arrow_down.png" alt="">
                            </span>
                            <div class="custom-options">
                                <div class="option" data-value="">
                                    등록순
                                </div>
                                <div class="option" data-value="">
                                    만족도순
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="exam-article ea1">
                    <div class="exam-header">
                        <h3>중간고사</h3>
                    </div>
                    <div class="info">
                        <span class="semester">23년 2학기 수강자</span>
                        <span>
                            <span>
                                <img src="../img/ddabong.svg" alt="">
                            </span>
                            <span>8</span>
                        </span>
                    </div>
                    <div class="pay">
                        <div class="message">
                            <p>
                                이 정보를 열람하기 위해 <strong>5 포인트</strong>가
                                차감됩니다.
                            </p>
                            <p>
                                한 번 열람한 후에는 영구적으로 볼 수 있습니다.
                            </p>
                            <button type="button" class="alert-button">열람하기</button>
                        </div>
                    </div>
                    <div class="contents-blur">
                        로렘그림자의 x, y 위치를 0px로 설정하면, 글자의 그림자는 글자 바로 뒤에 위치하게 됩니다.
                        여기에 blur-radius 값을 10px로 설정하여, 그림자가 blur 처리되어 보이도록 합니다.
                        출처: https://hianna.tistory.com/757 [어제 오늘 내일:티스토리]filter 속성에 사용하는 blur() 함수는, 이미지에 블러 처리를 해 줍니다.
                        출처: https://hianna.tistory.com/757 [어제 오늘 내일:티스토리]filter에 blur()
                        함수를 적용하여 글자를 흐리게 하였습니다.
                        이 blur() 함수는 텍스트 자체에 적용되지 않고, 요소에 적용되었기 때문에
                        글자가 있는 도 같이 블러 처리가 된 것을 확인할 수 있습니다.
                        출처: https://hianna.tistory.com/757 [어제 오늘 내일:티스토리]
                    </div>
                </div>
                <div class="line-div"></div>
                <div class="exam-article ea2">
                    <div class="exam-header">
                        <h3>기말고사</h3>
                    </div>
                    <div class="info">
                        <span class="semester">23년 2학기 수강자</span>
                        <span>
                            <span>
                                <img src="../img/ddabong.svg" alt="">
                            </span>
                            <span>2</span>
                        </span>
                    </div>
                    <div class="pay">
                        <div class="message">
                            <p>
                                이 정보를 열람하기 위해 <strong>5 포인트</strong>가
                                차감됩니다.
                            </p>
                            <p>
                                한 번 열람한 후에는 영구적으로 볼 수 있습니다.
                            </p>
                            <button type="button" class="alert-button">열람하기</button>
                        </div>
                    </div>
                    <div class="contents-blur">
                        국회는 상호원조 또는 안전보장에 관한 조약, 중요한 국제조직에 관한 조약,
                        우호통상항해조약, 주권의 제약에 관한 조약, 강화조약, 국가나 국민에게
                        중대한 재정적 부담을 지우는 조약 또는 입법사항에 관한 조약의 체결·비준에
                        대한 동의권을 가진다. 국회는 의원의 자격을 심사하며, 의원을 징계할 수 있다.
                        국회의원은 국회에서 직무상 행한 발언과 표결에 관하여 국회외에서 책임을
                        지지 아니한다. 언론·출판은 타인의 명예나 권리 또는 공중도덕이나 사회윤리를
                        침해하여서는 아니된다. 언론·출판이 타인의 명예나 권리를 침해한 때에는
                        피해자는 이에 대한 피해의 배상을 청구할 수 있다.
                        대통령은 내우·외환·천재·지변 또는 중대한 재정·경제상의 위기에 있어서
                        국가의 안전보장 또는 공공의 안녕질서를 유지하기 위하여 긴급한 조치가
                        필요하고 국회의 집회를 기다릴 여유가 없을 때에 한하여 최소한으로 필요한
                        재정·경제상의 처분을 하거나 이에 관하여 법률의 효력을 가지는 명령을
                        발할 수 있다. 이 헌법시행 당시의 대법원장과 대법원판사가 아닌 법관은
                        제1항 단서의 규정에 불구하고 이 헌법에 의하여 임명된 것으로 본다.
                        이 헌법시행 당시에 이 헌법에 의하여 새로 설치될 기관의 권한에 속하는
                        직무를 행하고 있는 기관은 이 헌법에 의하여 새로운 기관이 설치될 때까지
                        존속하며 그 직무를 행한다.
                    </div>
                    
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="inner">
            <!-- footer -->
            <div class="top-title bold">
                <span>이젠 아카데미 학원</span>
            </div>
            <div class="middle">
                <span>인천광역시</span>
                <span class="before">사업자등록번호: 000-00-00000</span>
                <span class="before">직업정보제공사업 신고번호: 0*14</span>
            </div>
            <div class="bottom">
                <span><a href="">이용약관</a></span>
                <span class="before bold"><a href="">개인정보처리방침</a></span>
                <span class="before"><a href="">청소년보호정책</a></span>
                <span class="before"><a href="">커뮤니티이용규칙</a></span>
                <span class="before"><a href="">문의하기</a></span>
                <span class="before"><a href="">ㅇㅇㅇ</a></span>
            </div>
    </footer>
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            function setLocalStorage(key, value){ localStorage.setItem(key,JSON.stringify(value)); } 
            function getLocalStorage(key){ return JSON.parse(localStorage.getItem(key)); }

            let myObj = getLocalStorage('loginInfomation');
            let myId = myObj.id;
            let loginOp = 'guest'
            const loginText = document.getElementById('loginText');

            if(myId == ''){
                loginOp = 'guest'
                loginText.innerText = '로그인'
            }else if(myId.includes('admin')){
                loginOp = 'master'
                loginText.innerText = '로그아웃'
            }else if(myId != ''){
                loginOp = 'user'
                loginText.innerText = '로그아웃'
            }

            // 로그인 로그아웃 관리자 별로 다른 UI 제공
            document.getElementById('loginText').addEventListener('click',(e)=>{
                e.preventDefault();
                if(document.getElementById('loginText').innerText == '로그인'){
                    location.href = "login.html";
                }else if(document.getElementById('loginText').innerText == '로그아웃'){
                    setLocalStorage('loginInfomation',{id : '',password : '', name : '', email : ''})
                    location.href = "메인.html";
                }
            })

            var averageLink = document.getElementById('average-link');
            averageLink.addEventListener('click', function(e) {
                e.preventDefault(); // 링크의 기본 동작 X
                
                // 클릭 시 'active' 클래스를 토글
                this.classList.toggle('active');
            });

            //로그인 유무 확인, 글쓰기 제어
            const loginInfomation = JSON.parse(localStorage.getItem('loginInfomation')) || {};
            console.log(loginInfomation);
            document.getElementById('examWrite').addEventListener('click',(event)=>{
                if (!loginInfomation || Object.keys(loginInfomation).length === 0 || loginInfomation.id==''){
                    alert('로그인이 필요합니다.');
                    event.preventDefault();
                }
            })

            // alert-button 클래스를 가진 모든 버튼에 이벤트 추가
            var alertButtons = document.querySelectorAll('.alert-button');
            alertButtons.forEach(function(button) {
                button.addEventListener('click', function() {
                    let isPoint = confirm('5 포인트를 차감하시겠습니까?');
                    if (isPoint){
                        if (!loginInfomation || Object.keys(loginInfomation).length === 0){
                            alert('로그인이 필요합니다.');
                        }
                    }
                });
            });

        });
    </script>
</body>